<!DOCTYPE html>
<html lang="mk">
<head>
  <meta charset="UTF-8">
  <title>Систем за гласање на Совет</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app-container">

    <!-- ======================================
         1) АДМИН ЛОГИН
    ======================================= -->
    <section id="admin-login-section" class="card">
      <h1 class="app-title">Систем за гласање на Совет</h1>
      <h2 class="section-title">Админ најава</h2>

      <p class="description">
        Внеси админ шифра за да ги внесеш точките од дневен ред.
      </p>

      <input
        type="password"
        id="adminPassword"
        class="input"
        placeholder="Админ шифра"
      />

      <button id="adminLoginBtn" class="btn primary">
        Најави се како админ
      </button>

      <p class="note">
        *Тест админ шифра: <strong>admin123</strong><br>
        *За директно гласање на советници користи линк со <code>?mode=voting</code>.
      </p>
    </section>

    <!-- ======================================
         2) ВНЕС НА ТОЧКИ (ДНЕВЕН РЕД)
    ======================================= -->
    <section id="setup-section" class="card hidden">
      <h1 class="app-title">Систем за гласање на Совет</h1>
      <h2 class="section-title">Внес на точки (дневен ред)</h2>

      <p class="description">
        Секоја точка во посебен ред (без празни редови помеѓу).
      </p>

      <textarea
        id="agendaInput"
        class="textarea"
        rows="10"
        placeholder="1. Усвојување на записникот&#10;2. Буџет на Општината за 2026 година&#10;3. Програма Г2 – Поттикнување на туризмот..."
      ></textarea>

      <button id="startBtn" class="btn primary">
        Започни гласање
      </button>

      <p class="note">
        После започнување, советниците можат да влегуваат преку линк:<br>
        <code>?mode=voting</code> – директно на екранот за гласање.
      </p>
    </section>

    <!-- ======================================
         3) ГЛАСАЊЕ ПО ТОЧКА
    ======================================= -->
    <section id="voting-section" class="card hidden">
      <h1 class="app-title">Систем за гласање на Совет</h1>
      <h2 class="section-title">Гласање по точки</h2>

      <h3 id="currentAgendaTitle" class="current-point">
        Точка 1.
      </h3>

      <!-- Најава на советник -->
      <div class="block">
        <h4>Најава на советник</h4>

        <label for="councilorSelect" class="label">Советник:</label>
        <select id="councilorSelect" class="input">
          <option value="">-- Одбери советник --</option>
          <!-- Имињата се пополнуваат од main.js -->
        </select>

        <label for="councilorPassword" class="label">Шифра:</label>
        <input
          type="password"
          id="councilorPassword"
          class="input"
          placeholder="Шифра на советник"
        />

        <button id="councilorLoginBtn" class="btn secondary">
          Најави се
        </button>

        <p id="loggedCouncilorInfo" class="note"></p>
      </div>

      <!-- Копчиња за гласање (се гледаат само кога е најавен советник) -->
      <div id="voteArea" class="block hidden">
        <h4>Гласање за тековната точка</h4>
        <div class="buttons-row">
          <button id="btnZa" class="btn success">ЗА</button>
          <button id="btnProtiv" class="btn danger">ПРОТИВ</button>
          <button id="btnVozdrzan" class="btn warning">ВОЗДРЖАН</button>
        </div>
      </div>

      <!-- Кратка статистика за тековната точка -->
      <div class="block summary">
        <p>
          Вкупно гласале: <strong><span id="currentTotalVotes">0</span> / 15</strong>
        </p>
        <p>
          За: <strong><span id="currentZa">0</span></strong> |
          Против: <strong><span id="currentProtiv">0</span></strong> |
          Воздржани: <strong><span id="currentVozdrzani">0</span></strong>
        </p>
      </div>

      <button id="nextBtn" class="btn primary" disabled>
        Следна точка / Резултати
      </button>

      <!-- Жива табела со сите точки -->
      <div class="block">
        <h4>Преглед на гласови по точки (во живо)</h4>
        <table id="liveResultsTable" class="table">
          <thead>
            <tr>
              <th>Точка</th>
              <th>За</th>
              <th>Против</th>
              <th>Воздржани</th>
              <th>Статус</th>
            </tr>
          </thead>
          <tbody>
            <!-- Пополнува main.js -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- ======================================
         4) КОНЕЧНИ РЕЗУЛТАТИ
    ======================================= -->
    <section id="results-section" class="card hidden">
      <h1 class="app-title">Систем за гласање на Совет</h1>
      <h2 class="section-title">Коначни резултати</h2>

      <p class="description">
        За секоја точка е прикажано вкупните гласови и статусот
        (усвоена ако има најмалку 8 „ЗА“).
      </p>

      <table id="resultsTable" class="table">
        <thead>
          <tr>
            <th>Точка</th>
            <th>Вкупно / 15</th>
            <th>За</th>
            <th>Против</th>
            <th>Воздржани</th>
            <th>Статус</th>
          </tr>
        </thead>
        <tbody>
          <!-- Пополнува main.js -->
        </tbody>
      </table>

      <p class="note">
        За нова седница избриши ги податоците (или затвори го прелистувачот)
        и повторно најави се како админ.
      </p>
    </section>

  </div>

  <script src="main.js"></script>
</body>
</html>
